<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Trang Quản Trị</title>
</head>
<body class="d-flex flex-column min-vh-100">
<div th:replace="~{fragments/header :: header}"></div>

<div class="container my-5">
    <h1 class="text-center mb-5 fw-bold">Bảng Điều Khiển Quản Trị</h1>

    <!-- Form Thêm Nhà Hàng -->
    <div class="card mb-5">
        <div class="card-header">
            <h3 class="mb-0">Thêm Nhà Hàng Mới</h3>
        </div>
        <div class="card-body p-4">
            <form th:action="@{/admin/restaurant/add}" th:object="${newRestaurant}" method="post" enctype="multipart/form-data">
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="name" class="form-label">Tên Nhà Hàng</label>
                        <input type="text" class="form-control" id="name" th:field="*{name}" required>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="address" class="form-label">Địa Chỉ</label>
                        <input type="text" class="form-control" id="address" th:field="*{address}" required>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="description" class="form-label">Mô Tả</label>
                    <textarea class="form-control" id="description" th:field="*{description}" rows="3"></textarea>
                </div>
                <div class="mb-3">
                    <label for="imageFile" class="form-label">Ảnh Đại Diện</label>
                    <input type="file" class="form-control" id="imageFile" name="imageFile" accept="image/*" required>
                </div>
                <button type="submit" class="btn btn-primary">Thêm Nhà Hàng</button>
            </form>
        </div>
    </div>

    <!-- Bảng Danh Sách Đặt Chỗ -->
    <div class="table-container">
        <h3 class="mb-4">Danh Sách Đặt Chỗ</h3>
        <div class="table-responsive">
            <table class="table table-hover align-middle">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Khách Hàng</th>
                    <th>Email</th>
                    <th>Nhà Hàng</th>
                    <th>Thời Gian</th>
                    <th>Số Người</th>
                    <th>Trạng Thái</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="booking : ${bookings}">
                    <td th:text="${booking.id}">1</td>
                    <td class="fw-bold" th:text="${booking.customerName}">Nguyễn Văn A</td>
                    <td th:text="${booking.customerEmail}">a@gmail.com</td>
                    <td th:text="${booking.restaurant.name}">Phố Cổ</td>
                    <td th:text="${#temporals.format(booking.bookingTime, 'HH:mm dd-MM-yyyy')}">20:00 25-12-2024</td>
                    <td th:text="${booking.numberOfPeople}">4</td>
                    <td><span class="badge rounded-pill text-bg-warning" th:text="${booking.status}">PENDING</span></td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<div th:replace="~{fragments/footer :: footer}"></div>
</body>
</html>